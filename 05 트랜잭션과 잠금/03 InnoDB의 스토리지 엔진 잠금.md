# InnoDB의 스토리지 엔진 잠금
 
InnoDB 스토리지 엔진 잠금은 스토리지 내부에서 레코드 기반의 잠금 방식을 탑재하고 있다.         
레코드 기반의 잠금 방식이기에 MyISAM과 같은 엔진에 비해 훨씬 뛰어난 동시성 처리 능력을 갖고 있다.        
하지만, 이원화된 잠금처리 탓에 InnoDB 스토리지 엔진에서 사용되는 잠금에 대한 정보는 MySQL 명령을 이용해 접근하기가 까다롭다.    
  
최근 버전에서는 InnoDB의 트랜잭션과 잠금, 그리고 잠금 대기중인 트랜잭션의 목록을 조회할 수 있는 방법이 도입되었다.      
MySQL 서버의 information_schema 데이터베이스에 존재하는       
INNODB_TRX, INNODB_LOCKS, INNODB_LOCK_WAITS 라는 테이블을 조인해서 조회하면        
현재 어떤 트랜잭션이 잠금을 대기하고 있고 해당 잠금을 어느 트랜잭션이 가지고 있는지 확인할 수 있으며,       
또한 장시간 잠금을 갖고 있는 클라이언트를 찾아서 종료시킬 수 있다.      
  
그리고 Performance Schema 를 이용해 InnoDB 스토리지 엔진의 내부 잠금에 대한 모니터링 방법도 추가되었다.     
  
# InnoDB 스토리지 엔진의 잠금   

InnoDB 스토리지 엔진은 레코드 기반의 잠금을 제공한다.        
잠금 정보를 상당히 작은 공간으로 관리하기 때문에         
레코드 락이 페이지락으로, 또는 테이블 락으로 레벨업 되는 경우(락 에스컬레이션)는 없다.   
일반 사용 RDBMS와 다르게 InnoDB 스토리지 엔진에서는 레코드 락뿐 아니라 레코드와 레코드 사이의 간격을 잠그는 갭(GAP)락이라는 것이 존재한다.    

