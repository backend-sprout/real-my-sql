# MySQL 엔진의 잠금

MySQL에서 사용하는 잠금은 크게 아래 2가지로 나뉜다.   
   
1. 스토리지 엔진 레벨   
2. MySQL 엔진 레벨  

MySQL 엔진 레벨의 잠금은 모든 스토리지 엔진에 영향을 미치지만,  
스토리지 엔진 레벨의 잠금은 스토리지 엔진간 상호 영향을 미치지는 않는다.  
  
MySQL 엔진에서는   
테이블 데이터 동기화를 위한 테이블 락,    
테이블의 구조를 잠그는 메타데이터 락,  
사용자의 필요에 맞게 사용할 수 있는 네임드 락 등등이 있다.    

## 글로벌 락 

글로벌 락은 `FLUSH WITH READ LOCK` 명령으로 획득할 수 있다.        
MySQL에서 제공하는 잠금 가운데 가장 범위가 크다.     

일단 한 세션에서 글로벌 락을 획득하면  
다른 세션에서 SELECT를 제외한 대부분의 DDL 문장이나 DML 문장을 실행하는 경우    
글로벌 락이 해제될 때까지 해당 문장이 대기 상태로 남는다.    
    
글로벌 락이 영향을 미치는 범위는 MySQL 서버 전체이며        
작업 대상 테이블이나 데이터베이스가 다르더라도 동일하게 영향을 미친다.       
여러 데이터베이스에 존재하는 MyISAM 이나 Memory 테이블에 대해       
mysqldump 로 일관된 백업을 받아야할 때는 글로벌 락을 사용한다.     



